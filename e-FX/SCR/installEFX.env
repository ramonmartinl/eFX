################################################################################
#!/bin/env bash
#
# Script for setting Environment variables
#
# Usage: installEFX.env
#
# Author: Ramon Martin Lopez [ramn.martn@servexternos.isban.es]
# Since: 28/01/2015 
# Last Modified: 17/02/2015 (ramn.martn)
#
###############################################################################

# Main Files & Folders
declare -r EFX_INSTALLER_HOME=/home/efxbuild/UploadToSatellite
declare -r UPLOAD_AREA_FOLDER=/home/efxbuild/upload_area
declare -r BAXTER_HOME=/opt/baxter
declare -r EFX_INSTALLER_LOG_FILE=$EFX_INSTALLER_HOME/installEFX.log
declare -r EFX_INSTALLER_ERROR_FILE=$EFX_INSTALLER_HOME/installEFX.error
declare -r NEW_EFX_MODULES_TMP=$EFX_INSTALLER_HOME/newEFXModules
declare -r NEW_LINUX_MODULES_TMP=$EFX_INSTALLER_HOME/newLinuxModules

# Users
declare -r USER_EFXBUILD=efxbuild
declare -r USER_STRMBASE=strmbase
declare -r USER_BAXTER=baxter

# Errors
declare -r ERROR_UNAUTHORIZED=1

# Deployment Environments
declare -a EFX_ENVIRONMENTS
	EFX_ENVIRONMENTS[0]=''
	EFX_ENVIRONMENTS[1]=DEV1
	EFX_ENVIRONMENTS[2]=DEV3
	EFX_ENVIRONMENTS[3]=DEV4
	EFX_ENVIRONMENTS[4]=CAPLIN
	EFX_ENVIRONMENTS[5]=SIT
	EFX_ENVIRONMENTS[6]=SIT2

# eFX, LP, Baxter, Caplin PROCESSES
declare -a ENV_PROCESSES
	ENV_PROCESSES[0]=''
	ENV_PROCESSES[1]=eFX-AdaFIX
	ENV_PROCESSES[2]=eFX-Adartenon
	ENV_PROCESSES[3]=eFX-Adaxter # Adaxter & RFQAdaxter
	ENV_PROCESSES[4]=eFX-Aggregation
	ENV_PROCESSES[5]=eFX-AutoCM
	ENV_PROCESSES[6]=eFX-Cleansing
	ENV_PROCESSES[7]=eFX-CustomerPricing
	ENV_PROCESSES[8]=eFX-DashboardBridge
	ENV_PROCESSES[9]=eFX-ForwardPricing
	ENV_PROCESSES[10]=eFX-Pricetenon
	ENV_PROCESSES[11]=eFX-Pricing
	ENV_PROCESSES[12]=eFX-TenorService
	#ENV_PROCESSES[13]=eFX-TickStore
	ENV_PROCESSES[13]=eFX-NewTickStore
	ENV_PROCESSES[14]=eFX-TradeReports
	ENV_PROCESSES[15]=eFX-Trading
	ENV_PROCESSES[16]=eFX-Volatility
	#ENV_PROCESSES[?]=eFX-Modules
	#ENV_PROCESSES[?]=eFX-SB7-Common
	#ENV_PROCESSES[?]=eFX-SB7-Parent
	#ENV_PROCESSES[?]=eFX-SB7-Tools
	ENV_PROCESSES[17]=eFX-LP-Citi # LP Citi
	ENV_PROCESSES[18]=eFX-LP-D3 # LP Price Simulation
	ENV_PROCESSES[19]=eFX-LP-DB # LP Deutsche Bank
	ENV_PROCESSES[20]=eFX-LP-DBFIX-Classic # LP Deutsche Bank Classic
	ENV_PROCESSES[21]=eFX-LP-DBFIX-Rapid # LP Deutsche Bank Rapid
	ENV_PROCESSES[22]=eFX-LP-FIX # LP FIX
	ENV_PROCESSES[23]=eFX-LP-GS # LP GS
	ENV_PROCESSES[24]=eFX-LP-MF # LP Market Factory
	ENV_PROCESSES[25]=eFX-LP-MTI # LP MTI
	ENV_PROCESSES[26]=eFX-LP-UBS # LP UBS
	ENV_PROCESSES[27]=Baxter # Baxter
	ENV_PROCESSES[28]=Caplin # Caplin

# EFXD Hosts	
declare -a ENV_MACHINES_EFXD=(
	# DEV1
	[3]=lnx-efxd3 #[70]=lnx-efxd70 BAXTER
	[35]=lnx-efxd35 # CUSTOMERPRICING, TRADEREPORTS, TENOR, MTI
	[36]=lnx-efxd36 # ADAFIX, TRADING, LP_D3, CLEANSING
	[37]=lnx-efxd37 # ADARTENON, AGGREGATION, DASHBOARDBRIDGE, PRICETENON, VOLATILITY
	[38]=lnx-efxd38 # PRICING, FWDPRICING
	[39]=lnx-efxd39 # ADAXTER, RFQADAXTER
	[70]=lnx-efxd70 # BAXTER
	# DEV3
	[41]=lnx-efxd41 # BAXTER
	[42]=lnx-efxd42 # CUSTOMERPRICING, TRADEREPORTS, TENOR, MTI
	[43]=lnx-efxd43 # ADAFIX, TRADING, LP_D3, CLEANSING
	[44]=lnx-efxd44 # ADARTENON, AGGREGATION, DASHBOARDBRIDGE, PRICETENON, VOLATILITY
	[45]=lnx-efxd45 # PRICING, FWDPRICING
	[46]=lnx-efxd46 # ADAXTER, RFQADAXTER
	# DEV4
	[48]=lnx-efxd48 # CUSTOMERPRICING, TRADEREPORTS, TENOR, MTI
	[49]=lnx-efxd49 # ADAFIX, TRADING, LP_D3, CLEANSING
	[50]=lnx-efxd50 # ADARTENON, AGGREGATION, DASHBOARDBRIDGE, PRICETENON, VOLATILITY
	[51]=lnx-efxd51 # PRICING, FWDPRICING
	[52]=lnx-efxd52 # ADAXTER, RFQADAXTER
	[53]=lnx-efxd53 # BAXTER
	# SIT
	[62]=lnx-efxd62
	[65]=lnx-efxd65
	[66]=lnx-efxd66
	[67]=lnx-efxd67
	[68]=lnx-efxd68
	[69]=lnx-efxd69
	# SIT2
	[54]=lnx-efxd54
	[55]=lnx-efxd55
	[56]=lnx-efxd56
	[57]=lnx-efxd57
	[58]=lnx-efxd58
	[59]=lnx-efxd59
	# LP´s
	[60]=lnx-efxd60
	[61]=lnx-efxd61
	)

# SBANKD Hosts	
declare -a ENV_MACHINES_SBANKD=(
	# CAPLIN
	[5]=lnx-sbankd5
	[6]=lnx-sbankd6
	# CI
	[7]=lnx-sbankd7
	[8]=lnx-sbankd8
	[9]=lnx-sbankd9
	[11]=lnx-sbankd11
	[12]=lnx-sbankd12
	[13]=lnx-sbankd13
	)	
	
# SPECIAL Hosts	
declare -a ENV_MACHINES_SPECIAL=(
	[0]=lnx-efxbuild # EFXBUILD
	)
	
# Allowed Hosts	
declare -a ENV_MACHINES_ALLOWED
	
# Deployment environments configuration	
# Usage Example (DEV1 eFX-AdaFIX lnx-efxd36 8900)
# Help: netstat -an |grep 8900 |grep LISTEN
declare -a EMPTY_CONF=("ENVIRONMENT" "PROCESS" "PORT" "HOST")

# DEV1
declare -a DEV1_CUSTOMERPRICING_8500_EFX35=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[7]} 8500 ${ENV_MACHINES_EFXD[35]})
declare -a DEV1_TRADEREPORTS_8800_EFX35=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[14]} 8800 ${ENV_MACHINES_EFXD[35]})
declare -a DEV1_TENOR_9100_EFX35=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[12]} 9100 ${ENV_MACHINES_EFXD[35]})
declare -a DEV1_LP_MTI_8098_EFX35=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[25]} 8098 ${ENV_MACHINES_EFXD[35]})

declare -a DEV1_ADAFIX_9000_EFX36=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[1]} 9000 ${ENV_MACHINES_EFXD[36]})
declare -a DEV1_TRADING_8600_EFX36=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[15]} 8600 ${ENV_MACHINES_EFXD[36]})
declare -a DEV1_LP_D3_8097_EFX36=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[18]} 8097 ${ENV_MACHINES_EFXD[36]})
declare -a DEV1_CLEANSING_8100_EFX36=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[6]} 8100 ${ENV_MACHINES_EFXD[36]})

declare -a DEV1_ADARTENON_8750_EFX37=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[2]} 8750 ${ENV_MACHINES_EFXD[37]})
declare -a DEV1_AGGREGATION_8200_EFX37=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[4]} 8200 ${ENV_MACHINES_EFXD[37]})
declare -a DEV1_DASHBOARDBRIDGE_9250_EFX37=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[8]} 9250 ${ENV_MACHINES_EFXD[37]})
declare -a DEV1_PRICETENON_10100_EFX37=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[10]} 10100 ${ENV_MACHINES_EFXD[37]})
declare -a DEV1_VOLATILITY_8700_EFX37=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[16]} 8700 ${ENV_MACHINES_EFXD[37]})

declare -a DEV1_PRICING_8300_EFX38=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[11]} 8300 ${ENV_MACHINES_EFXD[38]})
declare -a DEV1_FWDPRICING_8630_EFX38=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[9]} 8630 ${ENV_MACHINES_EFXD[38]})

declare -a DEV1_ADAXTER_8900_EFX39=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[3]} 8900 ${ENV_MACHINES_EFXD[39]})
declare -a DEV1_RFQADAXTER_8950_EFX39=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[3]} 8950 ${ENV_MACHINES_EFXD[39]})
declare -a DEV1_NEWTICKSTORE_8400_EFX39=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[13]} 8400 ${ENV_MACHINES_EFXD[39]})

declare -a DEV1_LP_DB_11010_EFX60=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[19]} 11010 ${ENV_MACHINES_EFXD[60]})
declare -a DEV1_LP_GS_11005_EFX60=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[23]} 11005 ${ENV_MACHINES_EFXD[60]})
declare -a DEV1_LP_MF_8099_EFX60=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[24]} 8099 ${ENV_MACHINES_EFXD[60]})
declare -a DEV1_LP_UBS_11020_EFX60=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[26]} 11020 ${ENV_MACHINES_EFXD[60]})

declare -a DEV1_LP_DBFIXCLASSIC_11020_EFX61=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[20]} 11020 ${ENV_MACHINES_EFXD[61]})
declare -a DEV1_LP_DBFIXRAPID_11015_EFX61=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[21]} 11015 ${ENV_MACHINES_EFXD[61]})
declare -a DEV1_LP_CITI_11030_EFX61=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[17]} 11030 ${ENV_MACHINES_EFXD[61]})

declare -a DEV1_BAXTER_EFX3=(${EFX_ENVIRONMENTS[1]} ${ENV_PROCESSES[27]} XXXX ${ENV_MACHINES_EFXD[3]})

# DEV3
declare -a DEV3_CUSTOMERPRICING_8500_EFX42=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[7]} 8500 ${ENV_MACHINES_EFXD[42]})
declare -a DEV3_TRADEREPORTS_8800_EFX42=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[14]} 8800 ${ENV_MACHINES_EFXD[42]})
declare -a DEV3_TENOR_9100_EFX42=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[12]} 9100 ${ENV_MACHINES_EFXD[42]})
declare -a DEV3_LP_MTI_8098_EFX42=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[25]} 8098 ${ENV_MACHINES_EFXD[42]})

declare -a DEV3_ADAFIX_9000_EFX43=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[1]} 9000 ${ENV_MACHINES_EFXD[43]})
declare -a DEV3_TRADING_8600_EFX43=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[15]} 8600 ${ENV_MACHINES_EFXD[43]})
declare -a DEV3_LP_D3_8097_EFX43=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[18]} 8097 ${ENV_MACHINES_EFXD[43]})
declare -a DEV3_CLEANSING_8100_EFX43=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[6]} 8100 ${ENV_MACHINES_EFXD[43]})

declare -a DEV3_ADARTENON_8750_EFX44=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[2]} 8750 ${ENV_MACHINES_EFXD[44]})
declare -a DEV3_AGGREGATION_8200_EFX44=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[4]} 8200 ${ENV_MACHINES_EFXD[44]})
declare -a DEV3_DASHBOARDBRIDGE_9250_EFX44=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[8]} 9250 ${ENV_MACHINES_EFXD[44]})
declare -a DEV3_PRICETENON_10100_EFX44=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[10]} 10100 ${ENV_MACHINES_EFXD[44]})
declare -a DEV3_VOLATILITY_8700_EFX44=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[16]} 8700 ${ENV_MACHINES_EFXD[44]})

declare -a DEV3_PRICING_8300_EFX45=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[11]} 8300 ${ENV_MACHINES_EFXD[45]})
declare -a DEV3_FWDPRICING_8630_EFX45=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[9]} 8630 ${ENV_MACHINES_EFXD[45]})

declare -a DEV3_ADAXTER_8900_EFX46=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[3]} 8900 ${ENV_MACHINES_EFXD[46]})
declare -a DEV3_RFQADAXTER_8950_EFX46=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[3]} 8950 ${ENV_MACHINES_EFXD[46]})
declare -a DEV3_NEWTICKSTORE_8400_EFX46=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[13]} 8400 ${ENV_MACHINES_EFXD[46]})

declare -a DEV3_LP_DB_11010_EFX60=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[19]} 11010 ${ENV_MACHINES_EFXD[60]})
declare -a DEV3_LP_GS_11005_EFX60=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[23]} 11005 ${ENV_MACHINES_EFXD[60]})
declare -a DEV3_LP_MF_8099_EFX60=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[24]} 8099 ${ENV_MACHINES_EFXD[60]})
declare -a DEV3_LP_UBS_11020_EFX60=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[26]} 11020 ${ENV_MACHINES_EFXD[60]})

declare -a DEV3_LP_DBFIXCLASSIC_11020_EFX61=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[20]} 11020 ${ENV_MACHINES_EFXD[61]})
declare -a DEV3_LP_DBFIXRAPID_11015_EFX61=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[21]} 11015 ${ENV_MACHINES_EFXD[61]})
declare -a DEV3_LP_CITI_11030_EFX61=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[17]} 11030 ${ENV_MACHINES_EFXD[61]})

declare -a DEV3_BAXTER_EFX41=(${EFX_ENVIRONMENTS[2]} ${ENV_PROCESSES[27]} XXXX ${ENV_MACHINES_EFXD[41]})

# DEV4
declare -a DEV4_CUSTOMERPRICING_8500_EFX48=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[7]} 8500 ${ENV_MACHINES_EFXD[48]})
declare -a DEV4_TRADEREPORTS_8800_EFX48=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[14]} 8800 ${ENV_MACHINES_EFXD[48]})
declare -a DEV4_TENOR_9100_EFX48=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[12]} 9100 ${ENV_MACHINES_EFXD[48]})
declare -a DEV4_LP_MTI_8098_EFX48=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[25]} 8098 ${ENV_MACHINES_EFXD[48]})

declare -a DEV4_ADAFIX_9000_EFX49=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[1]} 9000 ${ENV_MACHINES_EFXD[49]})
declare -a DEV4_TRADING_8600_EFX49=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[15]} 8600 ${ENV_MACHINES_EFXD[49]})
declare -a DEV4_LP_D3_8097_EFX49=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[18]} 8097 ${ENV_MACHINES_EFXD[49]})
declare -a DEV4_CLEANSING_8100_EFX49=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[6]} 8100 ${ENV_MACHINES_EFXD[49]})

declare -a DEV4_ADARTENON_8750_EFX50=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[2]} 8750 ${ENV_MACHINES_EFXD[50]})
declare -a DEV4_AGGREGATION_8200_EFX50=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[4]} 8200 ${ENV_MACHINES_EFXD[50]})
declare -a DEV4_DASHBOARDBRIDGE_9250_EFX50=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[8]} 9250 ${ENV_MACHINES_EFXD[50]})
declare -a DEV4_PRICETENON_10100_EFX50=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[10]} 10100 ${ENV_MACHINES_EFXD[50]})
declare -a DEV4_VOLATILITY_8700_EFX50=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[16]} 8700 ${ENV_MACHINES_EFXD[50]})

declare -a DEV4_PRICING_8300_EFX51=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[11]} 8300 ${ENV_MACHINES_EFXD[51]})
declare -a DEV4_FWDPRICING_8630_EFX51=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[9]} 8630 ${ENV_MACHINES_EFXD[51]})

declare -a DEV4_ADAXTER_8900_EFX52=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[3]} 8900 ${ENV_MACHINES_EFXD[52]})
declare -a DEV4_RFQADAXTER_8950_EFX52=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[3]} 8950 ${ENV_MACHINES_EFXD[52]})
declare -a DEV4_NEWTICKSTORE_8400_EFX52=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[13]} 8400 ${ENV_MACHINES_EFXD[52]})

declare -a DEV4_LP_DB_11010_EFX60=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[19]} 11010 ${ENV_MACHINES_EFXD[60]})
declare -a DEV4_LP_GS_11005_EFX60=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[23]} 11005 ${ENV_MACHINES_EFXD[60]})
declare -a DEV4_LP_MF_8099_EFX60=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[24]} 8099 ${ENV_MACHINES_EFXD[60]})
declare -a DEV4_LP_UBS_11020_EFX60=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[26]} 11020 ${ENV_MACHINES_EFXD[60]})

declare -a DEV4_LP_DBFIXCLASSIC_11020_EFX61=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[20]} 11020 ${ENV_MACHINES_EFXD[61]})
declare -a DEV4_LP_DBFIXRAPID_11015_EFX61=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[21]} 11015 ${ENV_MACHINES_EFXD[61]})
declare -a DEV4_LP_CITI_11030_EFX61=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[17]} 11030 ${ENV_MACHINES_EFXD[61]})

declare -a DEV4_BAXTER_EFX53=(${EFX_ENVIRONMENTS[3]} ${ENV_PROCESSES[27]} XXXX ${ENV_MACHINES_EFXD[53]})

# CI
# SIT
# SIT2
	
declare -a DEPLOYMENT_ENVIRONMENTS_CONF
	DEPLOYMENT_ENVIRONMENTS_CONF[0]=EMPTY_CONF[@]
	# DEV1
	DEPLOYMENT_ENVIRONMENTS_CONF[1]=DEV1_ADAFIX_9000_EFX36[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[2]=DEV1_ADARTENON_8750_EFX37[@] 
	DEPLOYMENT_ENVIRONMENTS_CONF[3]=DEV1_ADAXTER_8900_EFX39[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[4]=DEV1_AGGREGATION_8200_EFX37[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[5]=DEV1_AUTOCM_9200_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[5]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[6]=DEV1_CLEANSING_8100_EFX36[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[7]=DEV1_CUSTOMERPRICING_8500_EFX35[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[8]=DEV1_DASHBOARDBRIDGE_9250_EFX37[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[9]=DEV1_FWDPRICING_8630_EFX38[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[10]=DEV1_PRICETENON_10100_EFX37[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[11]=DEV1_PRICING_8300_EFX38[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[12]=DEV1_TENOR_9100_EFX35[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[13]=DEV1_NEWTICKSTORE_8400_EFX39[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[14]=DEV1_TRADEREPORTS_8800_EFX35[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[15]=DEV1_TRADING_8600_EFX36[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[16]=DEV1_VOLATILITY_8700_EFX37[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[17]=DEV1_LP_CITI_11030_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[18]=DEV1_LP_D3_8097_EFX36[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[19]=DEV1_LP_DB_11010_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[20]=DEV1_LP_DBFIXCLASSIC_11020_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[21]=DEV1_LP_DBFIXRAPID_11015_EFX61[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[22]=DEV1_LP_FIX_11100_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[22]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[23]=DEV1_LP_GS_11005_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[24]=DEV1_LP_MF_8099_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[25]=DEV1_LP_MTI_8098_EFX35[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[26]=DEV1_LP_UBS_11020_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[27]=DEV1_BAXTER_EFX3[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[28]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[29]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[30]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[31]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[32]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[33]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[34]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[35]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[36]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[37]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[38]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[39]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[40]=EMPTY_CONF[@];
	# DEV3
	DEPLOYMENT_ENVIRONMENTS_CONF[41]=DEV3_ADAFIX_9000_EFX43[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[42]=DEV3_ADARTENON_8750_EFX44[@] 
	DEPLOYMENT_ENVIRONMENTS_CONF[43]=DEV3_ADAXTER_8900_EFX46[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[44]=DEV3_AGGREGATION_8200_EFX44[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[45]=DEV3_AUTOCM_9200_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[45]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[46]=DEV3_CLEANSING_8100_EFX43[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[47]=DEV3_CUSTOMERPRICING_8500_EFX42[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[48]=DEV3_DASHBOARDBRIDGE_9250_EFX44[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[49]=DEV3_FWDPRICING_8630_EFX45[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[50]=DEV3_PRICETENON_10100_EFX44[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[51]=DEV3_PRICING_8300_EFX45[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[52]=DEV3_TENOR_9100_EFX42[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[53]=DEV3_NEWTICKSTORE_8400_EFX46[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[54]=DEV3_TRADEREPORTS_8800_EFX42[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[55]=DEV3_TRADING_8600_EFX43[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[56]=DEV3_VOLATILITY_8700_EFX44[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[57]=DEV3_LP_CITI_11030_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[58]=DEV3_LP_D3_8097_EFX43[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[59]=DEV3_LP_DB_11010_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[60]=DEV3_LP_DBFIXCLASSIC_11020_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[61]=DEV3_LP_DBFIXRAPID_11015_EFX61[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[62]=DEV3_LP_FIX_11100_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[62]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[63]=DEV3_LP_GS_11005_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[64]=DEV3_LP_MF_8099_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[65]=DEV3_LP_MTI_8098_EFX42[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[66]=DEV3_LP_UBS_11020_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[67]=DEV3_BAXTER_EFX41[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[68]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[69]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[70]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[71]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[72]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[73]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[74]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[75]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[76]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[77]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[78]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[79]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[80]=EMPTY_CONF[@];
	# DEV4
	DEPLOYMENT_ENVIRONMENTS_CONF[81]=DEV4_ADAFIX_9000_EFX49[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[82]=DEV4_ADARTENON_8750_EFX50[@] 
	DEPLOYMENT_ENVIRONMENTS_CONF[83]=DEV4_ADAXTER_8900_EFX52[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[84]=DEV4_AGGREGATION_8200_EFX50[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[85]=DEV4_AUTOCM_9200_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[85]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[86]=DEV4_CLEANSING_8100_EFX49[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[87]=DEV4_CUSTOMERPRICING_8500_EFX48[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[88]=DEV4_DASHBOARDBRIDGE_9250_EFX50[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[89]=DEV4_FWDPRICING_8630_EFX51[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[90]=DEV4_PRICETENON_10100_EFX50[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[91]=DEV4_PRICING_8300_EFX51[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[92]=DEV4_TENOR_9100_EFX48[@]	
	DEPLOYMENT_ENVIRONMENTS_CONF[93]=DEV4_NEWTICKSTORE_8400_EFX52[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[94]=DEV4_TRADEREPORTS_8800_EFX48[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[95]=DEV4_TRADING_8600_EFX49[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[96]=DEV4_VOLATILITY_8700_EFX50[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[97]=DEV4_LP_CITI_11030_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[98]=DEV4_LP_D3_8097_EFX49[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[99]=DEV4_LP_DB_11010_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[100]=DEV4_LP_DBFIXCLASSIC_11020_EFX61[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[101]=DEV4_LP_DBFIXRAPID_11015_EFX61[@]
	#DEPLOYMENT_ENVIRONMENTS_CONF[102]=DEV4_LP_FIX_11100_EFX??[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[102]=EMPTY_CONF[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[103]=DEV4_LP_GS_11005_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[104]=DEV4_LP_MF_8099_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[105]=DEV4_LP_MTI_8098_EFX48[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[106]=DEV4_LP_UBS_11020_EFX60[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[107]=DEV4_BAXTER_EFX53[@]
	DEPLOYMENT_ENVIRONMENTS_CONF[108]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[109]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[110]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[111]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[112]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[113]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[114]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[115]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[116]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[117]=EMPTY_CONF[@];
	DEPLOYMENT_ENVIRONMENTS_CONF[118]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[119]=EMPTY_CONF[@];DEPLOYMENT_ENVIRONMENTS_CONF[120]=EMPTY_CONF[@];

# Other useful variables	
declare -x TARGET_PROCESS=""
declare -x TARGET_ENV=""
declare -x TARGET_MACHINE=""
declare -x TARGET_PORT=""	

export EFX_INSTALLER_HOME
export UPLOAD_AREA_FOLDER
export BAXTER_HOME
export EFX_INSTALLER_LOG_FILE
export EFX_INSTALLER_ERROR_FILE
export NEW_EFX_MODULES_TMP
export NEW_LINUX_MODULES_TMP
export USER_EFXBUILD
export USER_STRMBASE
export USER_BAXTER
export ERROR_UNAUTHORIZED
export EFX_ENVIRONMENTS
export ENV_PROCESSES
export ENV_MACHINES_EFXD
export ENV_MACHINES_SBANKD
export ENV_MACHINES_SPECIAL
export ENV_MACHINES_ALLOWED
export DEPLOYMENT_ENVIRONMENTS_CONF

export TARGET_PROCESS
export TARGET_ENV
export TARGET_MACHINE
export TARGET_PORT

source $EFX_INSTALLER_HOME/menus.main
source $EFX_INSTALLER_HOME/menus.buildCerebro
source $EFX_INSTALLER_HOME/menus.baxter
source $EFX_INSTALLER_HOME/menus.maintenance
source $EFX_INSTALLER_HOME/builCerebro.sh
source $EFX_INSTALLER_HOME/uploadSW2Satellite.sh
source $EFX_INSTALLER_HOME/installCaplin.sh
source $EFX_INSTALLER_HOME/maintenanceTasks.sh
source $EFX_INSTALLER_HOME/utils.sh

#declare -f
